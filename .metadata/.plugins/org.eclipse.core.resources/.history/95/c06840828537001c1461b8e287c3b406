package escapeRoom;

import java.util.*;

public class RoomService {
	


	/*
	 * 메서드 이름 : memberJoin 회원가입
	 * 매개변수 : List<RoomDTO> memberList
	 * 리턴 : memberList
	 */
	List<RoomDTO> memberJoin (List<RoomDTO> memberList){
		Scanner scan = new Scanner(System.in);
		
		System.out.print("아이디 : ");
		String id = scan.next();
		System.out.print("비밀번호 : ");
		String password = scan.next();
		int memberNum = memberList.size()+1;
		
		RoomDTO r = new RoomDTO(id, password, "그냥회원",memberNum,1000);
		System.out.println(id + "님 가입을 축하드립니다! 가입기념으로 1000원 지급됐습니다.");
		
		
		return memberList;
	}
	
	
	
	
	
	/*
	 * 메서드 이름 : memberView 회원정보조회
	 * 매개변수 : List<RoomDTO> memberList
	 * 리턴 : void
	 */
	
	void memberView (List<RoomDTO> memberList){
		
		for(RoomDTO r : memberList) {
		System.out.println(r);
		}
	}
	
	
	
	
	
	/*
	 * 메서드 이름 : LoginCheck	로그인체크
	 * 매개변수 : List<RoomDTO> memberList
	 * 리턴 : int 
	 */
	
	
	int LoginCheck (List<RoomDTO> memberList){
		Scanner scan = new Scanner(System.in);
		
		int loginNum = 0;
		
		System.out.print("아이디 : ");
		String id = scan.next();
		System.out.print("비밀번호 : ");
		String password = scan.next();
		
		RoomDTO m = null;
		for(int i=0; i<memberList.size(); i++) {
			m = memberList.get(i);
			if (id.equals(m.getId())&&password.equals(m.getPassword())) {
				loginNum = i;
			}
			}	
		return loginNum;
	}
	
	/*
	 * 메서드 이름 : escapeGame	로그인 & 게임
	 * 매개변수 : List<RoomDTO> memberList, int
	 * 리턴 : memberList
	 */
	List<RoomDTO> escapeGame (List<RoomDTO> memberList){
		
		int num = LoginCheck(memberList);
		
		RoomDTO m = null;
		if (num>0) {
			m = memberList.get(num);
			System.out.println("로그인 성공!");
			System.out.println("게임 시작 시 참가비 1000원이 차감됩니다.");
			m.setMoney(m.getMoney()-1000);
			
			GameService g = new GameService();
			g.game(memberList);
			
			
			
			
		}else {
			System.out.println("로그인 실패");
		}
		return memberList;
	}
	
	/*
	 * 메서드 이름 : honoraryMember	로그인 & 게임
	 * 매개변수 : List<RoomDTO> memberList
	 * 리턴 : memberList
	 */
	void honoraryMember (List<RoomDTO> memberList){
		RoomDTO m = null;
		for(int i=0; i<memberList.size();i++) {
			m = memberList.get(i);
			if (m.getMemberRank().equals("명예회원")) {
				System.out.println(m);
			}
		}
	}
}
